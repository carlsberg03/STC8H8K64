C51 COMPILER V9.60.0.0   SEEKFREE_WIRELESS_CH573                                           04/25/2022 23:42:58 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SEEKFREE_WIRELESS_CH573
OBJECT MODULE PLACED IN .\Out_File\SEEKFREE_WIRELESS_CH573.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS_CH573.c LARGE OMF2
                    - OPTIMIZE(8,SPEED) BROWSE INCDIR(..\..\Libraries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\seekfree_p
                    -eripheral;..\USER\inc;..\USER\src;..\CODE) DEBUG PRINT(.\Out_File\SEEKFREE_WIRELESS_CH573.lst) OBJECT(.\Out_File\SEEKFRE
                    -E_WIRELESS_CH573.obj)

line level    source

   1          /*********************************************************************************************************
             -************
   2          * COPYRIGHT NOTICE
   3          * Copyright (c) 2019,Öð·É¿Æ¼¼
   4          * All rights reserved.
   5          *
   6          * ÒÔÏÂËùÓÐÄÚÈÝ°æÈ¨¾ùÊôÖð·É¿Æ¼¼ËùÓÐ£¬Î´¾­ÔÊÐí²»µÃÓÃÓÚÉÌÒµÓÃÍ¾£¬
   7          * »¶Ó­¸÷Î»Ê¹ÓÃ²¢´«²¥±¾³ÌÐò£¬ÐÞ¸ÄÄÚÈÝÊ±±ØÐë±£ÁôÖð·É¿Æ¼¼µÄ°æÈ¨ÉùÃ÷¡£
   8          *
   9          * @file             zf_device_wireless_ch573
  10          * @company          ³É¶¼Öð·É¿Æ¼¼ÓÐÏÞ¹«Ë¾
  11          * @author           Öð·É¿Æ¼¼(QQ790875685)
  12          * @version          ²é¿´docÄÚversionÎÄ¼þ °æ±¾ËµÃ÷
  13          * @Software         MounRiver Studio V1.51
  14          * @Target core      CH32V307VCT6
  15          * @Taobao           https://seekfree.taobao.com/
  16          * @date             2022-03-02
  17          * @note
  18          **********************************************************************************************************
             -**********/
  19          
  20          #include "SEEKFREE_WIRELESS_CH573.h"
  21          #include "zf_uart.h"
  22          
  23          
  24          //--------------------------------------------------------------------------------------------------------
             ------------
  25          //  @brief      573×ª´®¿ÚÄ£¿é»Øµ÷º¯Êý
  26          //  @param      NULL
  27          //  @return     void                                    
  28          //  @since      v1.0
  29          //  Sample usage:       
  30          //  @note       
  31          //--------------------------------------------------------------------------------------------------------
             ------------
  32          void wireless_ch573_callback(void)
  33          {
  34   1                      uint8 wireless_573_rx_buffer = WIRELESS_CH573_DATA_BUF;
  35   1                      //½Óµ½Ò»¸ö×Ö½Úºóµ¥Æ¬»ú½«»á½øÈë´®¿ÚÖÐ¶Ï£¬Í¨¹ýÔÚ´Ë´¦¶ÁÈ¡wireless_573_rx_buffer¿ÉÒÔÈ¡×ßÊý¾Ý
  36   1      }
  37          
  38          
  39          
  40          
  41          //--------------------------------------------------------------------------------------------------------
             ------------
  42          //  @brief      573×ª´®¿ÚÄ£¿é³õÊ¼»¯
  43          //  @param      NULL
  44          //  @return     void                                    
  45          //  @since      v1.0
  46          //  Sample usage:       
  47          //  @note       
C51 COMPILER V9.60.0.0   SEEKFREE_WIRELESS_CH573                                           04/25/2022 23:42:58 PAGE 2   

  48          //--------------------------------------------------------------------------------------------------------
             ------------
  49          void wireless_ch573_init(void)
  50          {
  51   1          wireless_type = WIRELESS_CH573;
  52   1          //±¾º¯ÊýÊ¹ÓÃµÄ²¨ÌØÂÊÎª115200£¬Îª573×ª´®¿ÚÄ£¿éµÄÄ¬ÈÏ²¨ÌØÂÊ£¬ÈçÐèÆäËû²¨ÌØÂÊÇë×ÔÐÐÅäÖÃÄ£¿é²¢ÐÞ¸Ä´®¿ÚµÄ²¨Ì
             -ØÂÊ
  53   1      
  54   1                      uart_init(WIRELESS_CH573_UART, WIRELESS_CH573_UART_RX_PIN, WIRELESS_CH573_UART_TX_PIN, WIRELESS_CH573_UA
             -RT_BAUD, WIRELESS_CH573_TIMER_N);     //³õÊ¼»¯´®¿Ú    
  55   1          
  56   1      }
  57          
  58          //--------------------------------------------------------------------------------------------------------
             ------------
  59          //  @brief      573×ª´®¿ÚÄ£¿é ·¢ËÍº¯Êý
  60          //  @param      buff        ÐèÒª·¢ËÍµÄÊý¾ÝµØÖ·
  61          //  @param      len         ·¢ËÍ³¤¶È
  62          //  @return     uint32      Ê£ÓàÎ´·¢ËÍµÄ×Ö½ÚÊý   
  63          //  @since      v1.0
  64          //  Sample usage:       
  65          //  @note       
  66          //--------------------------------------------------------------------------------------------------------
             ------------
  67          uint32 wireless_ch573_send_buff(uint8 *buff, uint16 len)
  68          {
  69   1          while(len>30)
  70   1          {
  71   2              if(RTS_PIN == 1)  
  72   2              {
  73   3                  return len;//Ä£¿éÃ¦,Èç¹ûÔÊÐíµ±Ç°³ÌÐòÊ¹ÓÃwhileµÈ´ý Ôò¿ÉÒÔÊ¹ÓÃºóÃæ×¢ÊÍµÄwhileµÈ´ýÓï¾äÌæ»»±¾ifÓï¾
             -ä
  74   3              }
  75   2              //while(RTS_PIN);  //Èç¹ûRTSÎªµÍµçÆ½£¬Ôò¼ÌÐø·¢ËÍÊý¾Ý
  76   2              uart_putbuff(WIRELESS_CH573_UART,buff,30);
  77   2      
  78   2              buff += 30; //µØÖ·Æ«ÒÆ
  79   2              len -= 30;//ÊýÁ¿
  80   2          }
  81   1          
  82   1          if(RTS_PIN == 1)  
  83   1          {
  84   2              return len;//Ä£¿éÃ¦,Èç¹ûÔÊÐíµ±Ç°³ÌÐòÊ¹ÓÃwhileµÈ´ý Ôò¿ÉÒÔÊ¹ÓÃºóÃæ×¢ÊÍµÄwhileµÈ´ýÓï¾äÌæ»»±¾ifÓï¾ä
  85   2          }
  86   1          //while(RTS_PIN);  //Èç¹ûRTSÎªµÍµçÆ½£¬Ôò¼ÌÐø·¢ËÍÊý¾Ý
  87   1          uart_putbuff(WIRELESS_CH573,buff,len);//·¢ËÍ×îºóµÄÊý¾Ý
  88   1          
  89   1          return 0;
  90   1      }
  91          
  92          
  93          
  94          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    177    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       6
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
C51 COMPILER V9.60.0.0   SEEKFREE_WIRELESS_CH573                                           04/25/2022 23:42:58 PAGE 3   

   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
